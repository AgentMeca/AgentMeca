[
  {
    "snippet": "from robodk.robolink import *",
    "span": [
      21,
      21
    ],
    "start_byte": 547,
    "end_byte": 576,
    "node_type": "import_from_statement",
    "language": "python",
    "file_path": "/mnt/d/OneDrive/OneDrive - purdue.edu/Documents/Work/Mecademic/AgentMeca/repos/meca500-accessories/simulations/robodk-setup/example_robodk_script.py"
  },
  {
    "snippet": "from robodk.robomath import *",
    "span": [
      22,
      22
    ],
    "start_byte": 593,
    "end_byte": 622,
    "node_type": "import_from_statement",
    "language": "python",
    "file_path": "/mnt/d/OneDrive/OneDrive - purdue.edu/Documents/Work/Mecademic/AgentMeca/repos/meca500-accessories/simulations/robodk-setup/example_robodk_script.py"
  },
  {
    "snippet": "import time",
    "span": [
      23,
      23
    ],
    "start_byte": 647,
    "end_byte": 658,
    "node_type": "import_statement",
    "language": "python",
    "file_path": "/mnt/d/OneDrive/OneDrive - purdue.edu/Documents/Work/Mecademic/AgentMeca/repos/meca500-accessories/simulations/robodk-setup/example_robodk_script.py"
  },
  {
    "snippet": "import sys",
    "span": [
      24,
      24
    ],
    "start_byte": 659,
    "end_byte": 669,
    "node_type": "import_statement",
    "language": "python",
    "file_path": "/mnt/d/OneDrive/OneDrive - purdue.edu/Documents/Work/Mecademic/AgentMeca/repos/meca500-accessories/simulations/robodk-setup/example_robodk_script.py"
  },
  {
    "snippet": "class Meca500Controller:\n    \"\"\"\n    Controller class for Mecademic Meca500 robot using RoboDK API\n    \"\"\"\n    \n    def __init__(self, robot_name=ROBOT_NAME):\n        \"\"\"\n        Initialize connection to RoboDK and get robot reference\n        \n        Args:\n            robot_name (str): Name of the robot in RoboDK workspace\n        \"\"\"\n        self.RDK = None\n        self.robot = None\n        self.robot_name = robot_name\n        self.connect_to_robodk()\n    \n    def connect_to_robodk(self):\n        \"\"\"\n        Establish connection to RoboDK and get robot reference\n        \"\"\"\n        try:\n            # Connect to RoboDK\n            self.RDK = Robolink()\n            \n            # Check if RoboDK is running\n            if not self.RDK.Valid():\n                raise Exception(\"RoboDK is not running or not accessible\")\n            \n            # Get robot by name\n            self.robot = self.RDK.Item(self.robot_name, ITEM_TYPE_ROBOT)\n            \n            if not self.robot.Valid():\n                raise Exception(f\"Robot '{self.robot_name}' not found in RoboDK workspace\")\n            \n            print(f\"Successfully connected to robot: {self.robot_name}\")\n            \n            # Set default speeds\n            self.robot.setSpeed(DEFAULT_SPEED)  # Linear speed in mm/s\n            self.robot.setZoneData(5)  # Rounding/blending radius in mm\n            \n        except Exception as e:\n            print(f\"Error connecting to RoboDK: {e}\")\n            sys.exit(1)\n    \n    def get_robot_status(self):\n        \"\"\"\n        Get current robot status and joint positions\n        \n        Returns:\n            dict: Robot status information\n        \"\"\"\n        try:\n            joints = self.robot.Joints()\n            pose = self.robot.Pose()\n            \n            return {\n                'joints': joints.tolist(),\n                'pose': pose,\n                'position': pose.Pos(),\n                'orientation': pose.Euler_2_Pose()[1]\n            }\n        except Exception as e:\n            print(f\"Error getting robot status: {e}\")\n            return None\n    \n    def move_to_home(self):\n        \"\"\"\n        Move robot to home position (all joints at 0 degrees)\n        \"\"\"\n        try:\n            home_joints = [0, 0, 0, 0, 0, 0]  # All joints at 0 degrees\n            print(\"Moving to home position...\")\n            self.robot.MoveJ(home_joints)\n            print(\"Home position reached\")\n        except Exception as e:\n            print(f\"Error moving to home: {e}\")\n    \n    def move_joints(self, joint_angles):\n        \"\"\"\n        Move robot to specified joint angles\n        \n        Args:\n            joint_angles (list): List of 6 joint angles in degrees [J1, J2, J3, J4, J5, J6]\n        \"\"\"\n        try:\n            if len(joint_angles) != 6:\n                raise ValueError(\"Joint angles must be a list of 6 values\")\n            \n            print(f\"Moving to joint angles: {joint_angles}\")\n            self.robot.MoveJ(joint_angles)\n            print(\"Joint movement completed\")\n        except Exception as e:\n            print(f\"Error in joint movement: {e}\")\n    \n    def move_linear(self, target_pose):\n        \"\"\"\n        Move robot linearly to target pose\n        \n        Args:\n            target_pose: Target pose (can be Mat object or target item)\n        \"\"\"\n        try:\n            print(\"Executing linear movement...\")\n            self.robot.MoveL(target_pose)\n            print(\"Linear movement completed\")\n        except Exception as e:\n            print(f\"Error in linear movement: {e}\")\n    \n    def create_target(self, name, x, y, z, rx=0, ry=0, rz=0):\n        \"\"\"\n        Create a target in RoboDK workspace\n        \n        Args:\n            name (str): Name of the target\n            x, y, z (float): Position coordinates in mm\n            rx, ry, rz (float): Rotation angles in degrees\n            \n        Returns:\n            Target item or None if failed\n        \"\"\"\n        try:\n            # Create pose matrix\n            pose = transl(x, y, z) * rotz(rz * pi/180) * roty(ry * pi/180) * rotx(rx * pi/180)\n            \n            # Create target in RoboDK\n            target = self.RDK.AddTarget(name)\n            target.setPose(pose)\n            \n            print(f\"Target '{name}' created at position ({x}, {y}, {z})\")\n            return target\n        except Exception as e:\n            print(f\"Error creating target: {e}\")\n            return None\n    \n    def pick_and_place_demo(self):\n        \"\"\"\n        Demonstrate a simple pick and place operation\n        \"\"\"\n        try:\n            print(\"\\n=== Starting Pick and Place Demo ===\")\n            \n            # Define pick and place positions (adjust as needed)\n            pick_pos = [300, 100, 200]      # Pick position [x, y, z] in mm\n            place_pos = [300, -100, 200]    # Place position [x, y, z] in mm\n            \n            # Create targets\n            pick_target = self.create_target(\"Pick_Target\", *pick_pos)\n            place_target = self.create_target(\"Place_Target\", *place_pos)\n            \n            if not pick_target or not place_target:\n                raise Exception(\"Failed to create targets\")\n            \n            # 1. Move to home position\n            self.move_to_home()\n            time.sleep(1)\n            \n            # 2. Move to pick approach position\n            pick_approach = self.create_target(\"Pick_Approach\", \n                                             pick_pos[0], pick_pos[1], pick_pos[2] + APPROACH_DISTANCE)\n            self.move_linear(pick_approach)\n            time.sleep(0.5)\n            \n            # 3. Move down to pick position\n            self.move_linear(pick_target)\n            time.sleep(0.5)\n            \n            # Simulate gripper close\n            print(\"Closing gripper (simulated)\")\n            time.sleep(1)\n            \n            # 4. Move up from pick position\n            self.move_linear(pick_approach)\n            time.sleep(0.5)\n            \n            # 5. Move to place approach position\n            place_approach = self.create_target(\"Place_Approach\", \n                                              place_pos[0], place_pos[1], place_pos[2] + APPROACH_DISTANCE)\n            self.move_linear(place_approach)\n            time.sleep(0.5)\n            \n            # 6. Move down to place position\n            self.move_linear(place_target)\n            time.sleep(0.5)\n            \n            # Simulate gripper open\n            print(\"Opening gripper (simulated)\")\n            time.sleep(1)\n            \n            # 7. Move up from place position\n            self.move_linear(place_approach)\n            time.sleep(0.5)\n            \n            # 8. Return to home\n            self.move_to_home()\n            \n            print(\"=== Pick and Place Demo Completed ===\\n\")\n            \n        except Exception as e:\n            print(f\"Error in pick and place demo: {e}\")\n    \n    def circular_path_demo(self, center_x=300, center_y=0, center_z=200, radius=50, num_points=8):\n        \"\"\"\n        Demonstrate circular path movement\n        \n        Args:\n            center_x, center_y, center_z (float): Center of circle in mm\n            radius (float): Radius of circle in mm\n            num_points (int): Number of points on circle\n        \"\"\"\n        try:\n            print(f\"\\n=== Starting Circular Path Demo ===\")\n            print(f\"Center: ({center_x}, {center_y}, {center_z}), Radius: {radius}mm\")\n            \n            # Create circular path points\n            for i in range(num_points + 1):  # +1 to close the circle\n                angle = i * 2 * pi / num_points\n                \n                # Calculate point on circle\n                x = center_x + radius * cos(angle)\n                y = center_y + radius * sin(angle)\n                z = center_z\n                \n                # Create target\n                target_name = f\"Circle_Point_{i}\"\n                target = self.create_target(target_name, x, y, z)\n                \n                if target:\n                    if i == 0:\n                        # First point - use joint movement\n                        self.robot.MoveJ(target)\n                    else:\n                        # Subsequent points - use linear movement\n                        self.robot.MoveL(target)\n                    \n                    time.sleep(0.2)  # Brief pause between movements\n            \n            print(\"=== Circular Path Demo Completed ===\\n\")\n            \n        except Exception as e:\n            print(f\"Error in circular path demo: {e}\")\n    \n    def speed_test_demo(self):\n        \"\"\"\n        Demonstrate different movement speeds\n        \"\"\"\n        try:\n            print(\"\\n=== Starting Speed Test Demo ===\")\n            \n            # Define test positions\n            pos1 = [300, 100, 200]\n            pos2 = [300, -100, 200]\n            \n            # Create targets\n            target1 = self.create_target(\"Speed_Test_1\", *pos1)\n            target2 = self.create_target(\"Speed_Test_2\", *pos2)\n            \n            # Test different speeds\n            speeds = [50, 100, 200]  # mm/s\n            \n            for speed in speeds:\n                print(f\"Testing speed: {speed} mm/s\")\n                self.robot.setSpeed(speed)\n                \n                self.move_linear(target1)\n                time.sleep(0.5)\n                self.move_linear(target2)\n                time.sleep(0.5)\n            \n            # Reset to default speed\n            self.robot.setSpeed(DEFAULT_SPEED)\n            print(\"=== Speed Test Demo Completed ===\\n\")\n            \n        except Exception as e:\n            print(f\"Error in speed test demo: {e}\")\n    \n    def run_full_demo(self):\n        \"\"\"\n        Run complete demonstration of robot capabilities\n        \"\"\"\n        try:\n            print(\"Starting Meca500 RoboDK Programming Demo\")\n            print(\"=\" * 50)\n            \n            # Display robot status\n            status = self.get_robot_status()\n            if status:\n                print(f\"Current robot position: {[round(x, 2) for x in status['position']]}\")\n                print(f\"Current joint angles: {[round(x, 2) for x in status['joints']]}\")\n            \n            # Run demonstrations\n            self.pick_and_place_demo()\n            self.circular_path_demo()\n            self.speed_test_demo()\n            \n            # Return to home\n            self.move_to_home()\n            \n            print(\"All demonstrations completed successfully!\")\n            \n        except Exception as e:\n            print(f\"Error in full demo: {e}\")\n    \n    def cleanup(self):\n        \"\"\"\n        Clean up resources and close connections\n        \"\"\"\n        try:\n            if self.robot and self.robot.Valid():\n                # Return to home position\n                self.move_to_home()\n            \n            print(\"Cleanup completed\")\n        except Exception as e:\n            print(f\"Error during cleanup: {e}\")",
    "span": [
      32,
      346
    ],
    "start_byte": 924,
    "end_byte": 11874,
    "node_type": "class_definition",
    "language": "python",
    "file_path": "/mnt/d/OneDrive/OneDrive - purdue.edu/Documents/Work/Mecademic/AgentMeca/repos/meca500-accessories/simulations/robodk-setup/example_robodk_script.py",
    "name": "Meca500Controller"
  },
  {
    "snippet": "def main():\n    \"\"\"\n    Main function to run the Meca500 programming example\n    \"\"\"\n    print(\"Mecademic Meca500 RoboDK Programming Example\")\n    print(\"=\" * 50)\n    \n    # Create controller instance\n    controller = Meca500Controller()\n    \n    try:\n        # Run demonstration\n        controller.run_full_demo()\n    \n    except KeyboardInterrupt:\n        print(\"\\nProgram interrupted by user\")\n    \n    except Exception as e:\n        print(f\"Unexpected error: {e}\")\n    \n    finally:\n        # Clean up\n        controller.cleanup()\n        print(\"Program finished\")",
    "span": [
      348,
      371
    ],
    "start_byte": 11876,
    "end_byte": 12444,
    "node_type": "function_definition",
    "language": "python",
    "file_path": "/mnt/d/OneDrive/OneDrive - purdue.edu/Documents/Work/Mecademic/AgentMeca/repos/meca500-accessories/simulations/robodk-setup/example_robodk_script.py",
    "name": "main"
  }
]